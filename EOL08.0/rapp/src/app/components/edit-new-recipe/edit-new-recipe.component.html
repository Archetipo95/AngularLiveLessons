<div class='cover-photo-holder'>
    <img src="{{ recipe_in_progress.cover_photo ? recipe_in_progress.cover_photo : '/assets/emptybowl.jpg' }}" />
</div>
<div class='newrecipe card'>
    <h4 class='card-header'>Add New Recipe</h4>
    <form [formGroup]="recipe_form">
        <div class='card-body'>
            <div class='input-group'>
                <input type="text" class='form-control' [(ngModel)]="recipe_in_progress.title"
                    placeholder="Recipe Title" formControlName="title" />
            </div>
            <div class='input-group'>
                <textarea class='form-control' [(ngModel)]="recipe_in_progress.description" rows="5"
                    placeholder="Description" formControlName="description"></textarea>
            </div>
            <div class='input-group'>
                <input type="number" class='form-control' [(ngModel)]="recipe_in_progress.preparation_time"
                    placeholder="Preparation Time" formControlName="preparation_time" />
                <div class='input-group-append'><span class='input-group-text'>Minutes</span> </div>
            </div>
            <div class='input-group'>
                <input type="number" class='form-control' [(ngModel)]="recipe_in_progress.feeds_this_many"
                    placeholder="Feeds this Many" formControlName="feeds_this_many" />
                <div class='input-group-append'><span class='input-group-text'>People</span> </div>
            </div>

            <label>Ingredents</label>
            <div class='ingredient' *ngFor='let ingredient of recipe_in_progress.ingredients; let i = index'>
                <div class='form-row'>
                    <div class='form-group col-md-5'>
                        <input type="text" class='form-control' [(ngModel)]="ingredient.ingredient"
                            placeholder="Ingredient" formControlName="ingredient_ingredient_{{i}}" />
                    </div>
                    <div class='form-group col-md-4'>
                        <input type="text" class='form-control' [(ngModel)]="ingredient.measure" placeholder="Measure"
                        formControlName="ingredient_measure_{{i}}" />
                    </div>
                    <div class='form-group col-md-2'>
                        <input type="button" class='btn btn-secondary' (click)="removeIngredientAtIndex(i)" value="-" />
                    </div>
                </div>
            </div>
            <div>
                <input type="button" class='btn btn-secondary' value="Add" (click)="addIngredientPressed()" />
            </div>

            <label>Instructions</label>
            <div class='instruction' *ngFor='let instruction of recipe_in_progress.instructions; let i = index'>
                <div class='form-row'>
                    <div class='form-group col-md-8'>
                        <input type="text" class='form-control' [(ngModel)]="instruction.instruction"
                            placeholder="Instruction" formControlName="instruction_instruction_{{i}}" />
                    </div>
                    <div class='form-group col-md-2'>
                        <input type="button" class='btn btn-secondary' (click)="removeInstructionAtIndex(i)"
                            value="-" />
                    </div>
                </div>
            </div>
            <div>
                <input type="button" class='btn btn-secondary' value="Add" (click)="addInstructionPressed()" />
            </div>

            <div class='add-form-button-holder input-group'>
                <input type="button" [disabled]="!recipe_form.valid" class='btn btn-primary' value='Add Recipe'
                    (click)="addRecipeClicked()" />
            </div>
        </div>
    </form>
</div>